{{ block title }}
    Some de-briefing questions
{{ endblock }}
{{ block content }}
    {{ formfield 'aa_criterion'}}

    {{ formfield 'aa_criterion_sc'}}

    {{ formfield 'information_suff'}}

This study wants to understand how people perceive the competencies of affirmative action beneficiaries. Do you have any recommendations or additional comments that could help us ?

    {{ formfield 'instructions_clear'}}

    {{ formfield 'goal_clear'}}

    {{ formfield 'other_comm'}}

    {{ next_button }}

<script>
    /**
     * Make sure that the input field for "specify other" is only shown if "other" is selected.
     * We have two occurrences of such options: father's and mother's occupation
     */

    const radioBoxOtherOccupationFather = document.getElementById("id_occupation_father-14");
    const radioBoxOtherOccupationMother = document.getElementById("id_occupation_mother-14");
    const textFieldOccupationFather = document.getElementById("id_occupation_father_other");
    let labelOccupationFather;
    let labelOccupationMother;
    const textFieldOccupationMother = document.getElementById("id_occupation_mother_other");


    const labels = document.getElementsByTagName('label');
    for (let label of labels) {
        if (label.htmlFor === "id_occupation_father_other") {
            labelOccupationFather = label;
        } else if (label.htmlFor === "id_occupation_mother_other") {
            labelOccupationMother = label;
        }
    }

    textFieldOccupationFather.style.display = "none";
    labelOccupationFather.style.display = "none";
    textFieldOccupationMother.style.display = "none";
    labelOccupationMother.style.display = "none";

    radioBoxOtherOccupationFather.onclick = () => {
        textFieldOccupationFather.style.display = "block";
        labelOccupationFather.style.display = "block";
    }
    radioBoxOtherOccupationMother.onclick = () => {
        textFieldOccupationMother.style.display = "block";
        labelOccupationMother.style.display = "block";
    }

    for (let i = 0; i < 14; i++) {
        let radioBoxOccupation = document.getElementById(`id_occupation_father-${i}`)
        radioBoxOccupation.onclick = () => {
            textFieldOccupationFather.style.display = "none";
            textFieldOccupationFather.value = "";
            labelOccupationFather.style.display = "none";
        }
        radioBoxOccupation = document.getElementById(`id_occupation_mother-${i}`)
        radioBoxOccupation.onclick = () => {
            textFieldOccupationMother.style.display = "none";
            textFieldOccupationMother.value = "";
            labelOccupationMother.style.display = "none";
        }
    }
</script>

{{ endblock }}
